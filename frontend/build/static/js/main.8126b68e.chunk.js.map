{"version":3,"sources":["actions/app.js","helpers/ajax.js","helpers/path.js","models/comment.js","models/post.js","components/posts/Form.js","assets/icons/comment.svg","components/comments/Comment.js","components/comments/List.js","components/comments/NewForm.js","containers/Comments.js","models/reaction.js","containers/Reactions.js","components/posts/Fullscreen.js","components/posts/Post.js","components/posts/List.js","containers/Posts.js","actions/posts.js","components/users/Show.js","models/user.js","actions/users.js","components/users/LoginForm.js","components/users/NewForm.js","components/users/Signup.js","containers/Users.js","components/app/AppRoutes.js","components/app/Navbar.js","components/app/Popup.js","containers/App.js","reducers/app.js","reducers/posts.js","reducers/users.js","reducers/index.js","index.js"],"names":["displayPopup","contentArray","onClose","_","type","payload","content","closePopup","AjaxCall","url","this","body","a","errorCallback","method","config","headers","JSON","stringify","submittedObject","fetch","then","resp","status","json","response","returnedObject","Paths","posts","profile","reactions","showUser","user","id","userPosts","showPost","post","showPostComments","Comment","data","date","Date","created_at","successCallback","post_id","postData","comment","commentData","alert","Post","Error","commentCount","comment_count","reactionsCount","reactions_count","getData","commentsData","map","failureCallback","console","error","PostsForm","_path","props","useState","setContent","onSubmit","event","preventDefault","user_id","container","currentUser","update","create","app","actions","addPost","onChange","e","target","value","name","accept","hidden","_extends","Object","assign","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgComment","_ref","svgRef","title","titleId","width","height","xmlns","fillRule","clipRule","ref","d","ForwardRef","className","to","now","moment","fromNow","displayElapsedTime","CommentsList","comments","NewCommentForm","newComment","onNewCommentPersisted","placeholder","CommentsContainer","state","fetchComments","setState","s","Component","connect","users","Reaction","parent","glyph","constructor","typeGlyphs","reactableID","reactableType","postableData","reaction_type","reactable_id","reactable_type","newReactionsCount","ReactionsContainer","updateCount","parentType","values","ReactionButton","reaction","count","generateReactionButtons","onClick","submitClick","disabled","FullscreenPost","toLocaleTimeString","hour","minute","toDateString","Reactions","Comments","allPosts","all","withRouter","history","classList","contains","push","PostList","PostsContainer","exitFullscreenPost","goBack","currentPopup","match","params","fetchPosts","displayFullscreenPost","displayNewPostButtonIfLoggedIn","Fullscreen","find","p","dispatch","limit","postsData","ShowUser","getPosts","src","alt","User","userData","addCurrentUser","email","password","formData","setFormData","handleChange","errors","loginUser","password_confirmation","passwordsMatch","every","v","createUser","Signup","UsersContainer","showUserNode","routeActions","findUserAndSetNode","findWithID","Show","showProfileOrDisplaySignup","isLoggedIn","pendingFetch","checkRouteAndRunAction","PureComponent","AppRoutes","exact","path","component","Posts","Users","Navbar","log","children","App","appReducer","action","postsReducer","usersReducer","createBrowserHistory","store","createStore","combineReducers","router","connectRouter","applyMiddleware","thunk","routerMiddleware","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.8126b68e.chunk.js","sourcesContent":["export function displayPopup(contentArray=[], onClose=_=>{}) {\n  return {\n    type: \"DISPLAY_POPUP\",\n    payload: {content: contentArray, onClose}\n  }\n}\n\nexport function closePopup() {\n  return {\n    type: \"CLOSE_POPUP\"\n  }\n}","// Configure URL here for all AJAX fetch requests //\nconst baseURL = \"\"\n\nclass AjaxCall {\n\n  constructor(url) {\n    this.url = url\n  }\n\n  async postData(body, errorCallback = _=>{}, method = \"POST\") {\n    const config = {\n      method: method,\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Accept\": \"application/json\"\n      },\n      body: JSON.stringify(body)\n    }\n    this.submittedObject = body\n\n    return fetch(`${baseURL}${this.url}`, config).then(resp => {\n      if (resp.status !== 200) {\n        errorCallback()\n      }\n      return resp.json()\n    }).then(response => {\n      this.returnedObject = response\n      return this.returnedObject\n    })\n  }\n\n  async getData() {\n    return fetch(`${baseURL}${this.url}`).then(resp => resp.json()).then(json => this.returnedObject = json)\n  }\n\n}\n\nexport default AjaxCall","const Paths = {\n  posts: \"/beans\",\n  \n  profile: \"/profile\",\n\n  reactions: \"/reactions\",\n\n  showUser: (user)=> `/users/${user.id}`,\n\n  userPosts: (user)=> `/users/${user.id}/beans`,\n\n  showPost: (post)=> `/beans/${post.id}`,\n\n  showPostComments: (post)=> `/beans/${post.id}/comments`\n\n}\n\nexport default Paths","import AjaxCall from \"../helpers/ajax\";\nimport Paths from \"../helpers/path\";\n\nclass Comment {\n  \n  constructor(data) {\n    this.id = data.id\n    this.user = data.user\n    this.content = data.content\n    this.date = new Date(data.created_at)\n  }\n\n  static create(data, successCallback) {\n    new AjaxCall(Paths.showPostComments({id: data.post_id})).postData({comment: data}).then(commentData=> {\n      if (commentData.id) {\n        successCallback(new this(commentData))\n      } else {\n        alert(\"Could not submit/save comment.\")\n      }\n    })\n  }\n\n}\n\nexport default Comment;","import AjaxCall from \"../helpers/ajax\"\nimport Paths from \"../helpers/path\"\nimport Comment from \"./comment\"\nclass Post {\n\n  constructor(data) {\n    if (data.id) {\n      this.id = data.id\n      this.content = data.content\n      this.user = data.user\n      this.commentCount = data.comment_count\n      this.date = new Date(data.created_at)\n      this.reactionsCount = data.reactions_count\n    } else {\n      throw new Error(\"Invalid Post Creation: Missing ID property\")\n    }\n  }\n\n  async fetchComments() {\n    return new AjaxCall(Paths.showPostComments(this)).getData().then(commentsData=> commentsData.map(data=> new Comment(data)))\n  }\n\n  static create(data, successCallback, failureCallback=_=>{}) {\n    new AjaxCall(Paths.posts).postData(data).then(postData=> {\n      if (postData.id) {\n        const post = new this(postData)\n        successCallback(post)\n      } else {\n        console.error(`Post did not save! An id was not returned from server`, postData)\n        failureCallback(postData)\n      }\n    })\n  }\n\n}\n\nexport default Post;","import { useState } from \"react\"\nimport Post from \"../../models/post\";\n\nfunction PostsForm(props) {\n  \n  const [content, setContent] = useState(props.post.content || \"\");\n\n  const handleSubmit = event=> {\n    event.preventDefault()\n    const data = {\n      post: {\n        content: content,\n        // image_attributes: {attachment: event.target.image.value},\n        user_id: props.container.currentUser.id\n      }\n    }\n    if (props.post.id) {\n      props.post.update(content)\n    } else {\n      Post.create(data, post=> {\n        props.container.app.closePopup()\n        props.container.actions.addPost(post)\n      })\n    }\n  }\n\n  return (\n    <form onSubmit={handleSubmit}>\n      <input type=\"text\" onChange={e=> setContent(e.target.value)} name=\"content\" value={content}/>\n      {\n        (!props.post) ?\n          <input type=\"file\" accept=\"image/png, image/jpeg\" name=\"image\"/>\n        :\n          <input type=\"file\" accept=\"image/png, image/jpeg\" name=\"image\" hidden=\"true\"/>\n      }\n      <input type=\"submit\" />\n    </form>\n  )\n}\n\nexport default PostsForm","var _path;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgComment(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 24,\n    height: 24,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fillRule: \"evenodd\",\n    clipRule: \"evenodd\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M20 15c0 .552-.448 1-1 1s-1-.448-1-1 .448-1 1-1 1 .448 1 1m-3 0c0 .552-.448 1-1 1s-1-.448-1-1 .448-1 1-1 1 .448 1 1m-3 0c0 .552-.448 1-1 1s-1-.448-1-1 .448-1 1-1 1 .448 1 1m5.415 4.946c-1 .256-1.989.482-3.324.482-3.465 0-7.091-2.065-7.091-5.423 0-3.128 3.14-5.672 7-5.672 3.844 0 7 2.542 7 5.672 0 1.591-.646 2.527-1.481 3.527l.839 2.686-2.943-1.272zm-13.373-3.375l-4.389 1.896 1.256-4.012c-1.121-1.341-1.909-2.665-1.909-4.699 0-4.277 4.262-7.756 9.5-7.756 5.018 0 9.128 3.194 9.467 7.222-1.19-.566-2.551-.889-3.967-.889-4.199 0-8 2.797-8 6.672 0 .712.147 1.4.411 2.049-.953-.126-1.546-.272-2.369-.483m17.958-1.566c0-2.172-1.199-4.015-3.002-5.21l.002-.039c0-5.086-4.988-8.756-10.5-8.756-5.546 0-10.5 3.698-10.5 8.756 0 1.794.646 3.556 1.791 4.922l-1.744 5.572 6.078-2.625c.982.253 1.932.407 2.85.489 1.317 1.953 3.876 3.314 7.116 3.314 1.019 0 2.105-.135 3.242-.428l4.631 2-1.328-4.245c.871-1.042 1.364-2.384 1.364-3.75\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgComment);\nexport default __webpack_public_path__ + \"static/media/comment.a20299e0.svg\";\nexport { ForwardRef as ReactComponent };","import moment from 'moment';\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport Paths from '../../helpers/path';\n\nfunction Comment({content, user, date}) {\n  const displayElapsedTime = ()=> {\n    const difference = new Date(Date.now() - date)\n    return moment(date).fromNow()\n  }\n\n  return (\n    <div className=\"Comments-show\">\n      <div className=\"Comments-show-user\"><Link to={Paths.showUser(user)}>{user.name}</Link></div>\n      <div className=\"Comments-show-date\">\n        {displayElapsedTime()}\n      </div>\n      <p className=\"Comments-show-content\">{content}</p>\n    </div>\n  );\n}\n\nexport default Comment;\n","import React from 'react';\nimport Comment from './Comment'\n\nfunction CommentsList({comments}) {\n  return (\n    <div className=\"Comments-feed\">\n      {comments.map(comment=> <Comment key={comment.id} {...comment}/>)}\n    </div>\n  );\n}\n\nexport default CommentsList;\n","import React, { useState } from 'react';\nimport Comment from '../../models/comment';\n\nfunction NewCommentForm(props) {\n\n  const [content, setContent] = useState(\"\");\n\n  const handleSubmit = event=> {\n    event.preventDefault();\n\n    if (content.length > 0) {\n\n      const data = {\n        content: content,\n        post_id: props.post.id,\n        user_id: props.currentUser.id\n      }\n\n      Comment.create(data, newComment=> {setContent(\"\"); props.onNewCommentPersisted(newComment)})\n    } else {\n      event.target.content.placeholder = \"You cannot submit an empty comment\"\n    }\n  }\n\n  return (\n    <div className=\"Comments-new-form\" hidden={!props.currentUser}>\n      <form onSubmit={handleSubmit}>\n        <input type=\"text\" name=\"content\" value={content} onChange={e=> setContent(e.target.value)} />\n        <input type=\"submit\" className=\"Comments-new-form-submit\"/>\n      </form>\n    </div>\n  );\n}\n\nexport default NewCommentForm;\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport CommentsList from '../components/comments/List';\nimport NewCommentForm from '../components/comments/NewForm';\n\nclass CommentsContainer extends Component {\n\n  constructor(props) {\n    super()\n    this.state = {\n      comments: []\n    }\n    this.post = props.post\n  }\n\n  componentDidMount() {\n    if (this.post.commentCount > 0) {\n      this.post.fetchComments().then(comments=> this.setState({comments: comments}))\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"Comments-container\">\n        <NewCommentForm \n          onNewCommentPersisted={newComment=> this.setState(s=> ({comments: [...s.comments, newComment]}))} \n          currentUser={this.props.currentUser}\n          post={this.post}\n        />\n        <CommentsList comments={this.state.comments} />\n      </div>\n    );\n  }\n}\n\nexport default connect(state=>({currentUser: state.users.currentUser}))(CommentsContainer);\n","import AjaxCall from \"../helpers/ajax\"\nimport Paths from \"../helpers/path\"\n\nclass Reaction {\n\n  static get typeGlyphs() {\n    return {\n      \"like\": \"ðŸ‘\",\n      \"dislike\": \"ðŸ‘Ž\",\n      \"love\": \"ðŸ’œ\",\n      \"laugh\": \"ðŸ¤£\",\n      \"angry\": \"ðŸ˜¡\",\n      \"sad\": \"ðŸ˜¢\"\n    }\n  }\n\n  constructor(type, parent, currentUser) {\n    this.type = type\n    this.glyph = this.constructor.typeGlyphs[type]\n    this.reactableID = parent.id\n    this.reactableType = parent.constructor.name\n    this.currentUser = currentUser\n  }\n\n  submitClick(successCallback) {\n    const postableData = {\n      reaction_type: this.type,\n      reactable_id: this.reactableID,\n      reactable_type: this.reactableType,\n      user_id: this.currentUser.id\n    }\n    new AjaxCall(Paths.reactions).postData(postableData).then(newReactionsCount=> successCallback(newReactionsCount))\n  }\n\n}\n\nexport default Reaction;","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport Reaction from '../models/reaction';\n\nclass ReactionsContainer extends Component {\n\n  constructor(props) {\n    super(props)\n    this.parentType = this.props.parent.constructor.name\n    this.state = {\n      reactionsCount: this.props.parent.reactionsCount\n    }\n  }\n  \n  shouldComponentUpdate() {\n    return this.state.reactionsCount.values === this.props.parent.reactionsCount.values\n  }\n\n  generateReactionButtons() {\n    return Object.keys(Reaction.typeGlyphs).map(type=> {\n      return (\n      <ReactionButton \n        reaction={new Reaction(type, this.props.parent, this.props.currentUser)} \n        count={this.state.reactionsCount[type]} \n        updateCount={this.updateCount} \n        key={type} \n      />)\n    })\n  }\n\n  updateCount = (newReactionsCount)=> {\n    this.setState(s=> ({...s, reactionsCount: newReactionsCount}))\n  }\n\n  render() {\n    return (\n      <span className={`${this.parentType}s-reactions-bar`}>\n        {this.generateReactionButtons()}\n      </span>\n    );\n  }\n}\n\nfunction ReactionButton({reaction, count, updateCount}) {\n  return (\n    <button \n    onClick={_=> reaction.submitClick(newReactionsCount=> updateCount(newReactionsCount))}\n    disabled={!reaction.currentUser}\n    >\n      {count}{reaction.glyph}\n    </button>\n  )\n}\n\nexport default connect(state=> ({currentUser: state.users.currentUser}))(ReactionsContainer);\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport { ReactComponent as CommentIcon } from '../../assets/icons/comment.svg';\nimport CommentsContainer from '../../containers/Comments';\nimport ReactionsContainer from '../../containers/Reactions';\nimport Paths from '../../helpers/path';\n\nclass FullscreenPost extends Component {\n\n  render() {\n    return (\n      <div className=\"Posts-show-fullscreen\">\n        <div className=\"Posts-show\">\n        <div className=\"Posts-show-user\"><Link to={Paths.showUser(this.props.post.user)}>{this.props.post.user.name}</Link></div>\n        <span className=\"Posts-show-date\">{this.props.post.date.toLocaleTimeString(\"en-us\", { hour: '2-digit', minute: '2-digit' })} - {this.props.post.date.toDateString()}</span>\n        <div className=\"Posts-show-content\"><p>{this.props.post.content}</p></div>\n        <div className=\"Posts-show-interactions-bar\">\n          <ReactionsContainer parent={this.props.post} />\n          <div className=\"Posts-show-comment-count\">\n            {<CommentIcon />} {this.props.post.commentCount}\n          </div>\n          <CommentsContainer post={this.props.post}/>\n        </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default connect(state=> ({allPosts: state.posts.all}))(FullscreenPost);\n","import React from 'react';\nimport { Link, withRouter } from 'react-router-dom';\nimport { ReactComponent as CommentIcon } from '../../assets/icons/comment.svg';\nimport ReactionsContainer from '../../containers/Reactions';\nimport Paths from '../../helpers/path';\n\nfunction Post({history, post}) {\n\n  const validClickLocation = event=> {\n    return event.target.classList.contains(\"Posts-show\")\n  }\n\n  return (\n    <div className=\"Posts-show\" onClick={e=> {\n      if (validClickLocation(e)) {\n        history.push(Paths.showPost(post))\n      }}}>\n      <div className=\"Posts-show-user\"><Link to={Paths.showUser(post.user)}>{post.user.name}</Link></div>\n      <span className=\"Posts-show-date\">{post.date.toLocaleTimeString(\"en-us\", { hour: '2-digit', minute: '2-digit' })} - {post.date.toDateString()}</span>\n      <div className=\"Posts-show-content\"><p>{post.content}</p></div>\n      <div className=\"Posts-show-interactions-bar\">\n        <ReactionsContainer parent={post} />\n        <span className=\"Posts-show-comment-count\"> {<CommentIcon />} {post.commentCount}</span>\n      </div>\n    </div>\n  )\n}\n\nexport default withRouter(Post);","import React from 'react';\nimport Post from './Post'\n\nfunction PostList({posts}) {\n  return (\n    <div className=\"Posts-feed\">\n      {posts.map(post=> <Post key={`post${post.id}`} post={post} />)}\n    </div>\n  )\n}\n\nexport default PostList;\n\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { closePopup, displayPopup } from '../actions/app';\nimport { addPost, fetchPosts } from '../actions/posts';\nimport PostsForm from '../components/posts/Form';\nimport FullscreenPost from '../components/posts/Fullscreen';\nimport PostList from '../components/posts/List';\n\nconst mapStateToProps = state => ({\n  currentUser: state.users.currentUser,\n  posts: state.posts.all,\n  currentPopup: state.app.currentPopup,\n})\n\nconst mapDispatchToProps = dispatch => ({\n  actions: {\n    addPost: post => dispatch(addPost(post)),\n    fetchPosts: limit => dispatch(fetchPosts(limit))\n  },\n  app: {\n    displayPopup: (content, onClose)=> dispatch(displayPopup(content, onClose)),\n    closePopup: _=> dispatch(closePopup())\n  }\n})\n\nclass PostsContainer extends Component {\n\n  componentDidMount() {\n    if (this.props.currentPopup && !this.props.match.params.id) {\n      this.props.app.closePopup()\n    }\n    this.props.actions.fetchPosts()\n  }\n\n  shouldComponentUpdate() {\n    if (this.props.currentPopup) {\n      return false\n    } else {\n      return true\n    }\n  }\n\n  \n  render() {\n    return (\n      <div className=\"Posts-container\">\n        {this.displayFullscreenPost()}\n        {this.displayNewPostButtonIfLoggedIn()}\n        <PostList posts={this.props.posts} />\n      </div>\n    );\n  }\n\n  displayFullscreenPost() {\n    if (this.props.match.params.id && this.props.currentPopup === false && this.props.posts.length > 0) {\n      this.props.app.displayPopup([<FullscreenPost post={this.props.posts.find(p => p.id == this.props.match.params.id)}/>], this.exitFullscreenPost)\n    }\n  }\n\n  exitFullscreenPost = _=> {\n    this.props.app.closePopup()\n    this.props.history.goBack();\n  }\n\n  displayNewPostButtonIfLoggedIn() {\n    if (this.props.currentUser) {\n      return <button className=\"Posts-new-button\" onClick={_=> this.props.app.displayPopup([<PostsForm post={_} container={this.props}/>])}>+</button>\n    }\n    return null\n  }\n  \n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(PostsContainer);\n","import AjaxCall from \"../helpers/ajax\" \nimport Post from \"../models/post\"\n\nexport function addPost(post) {\n  if (post.constructor.name === \"Post\") {\n    return {\n      type: \"ADD_POST\",\n      post\n    }\n  } else {\n    throw new Error(`InvalidItemAddedToStoreError: tried to add ${post} when it was not of type \"Post\"`)\n  }\n}\n\nexport function fetchPosts(limit=25) {\n  return dispatch=> {\n    dispatch({type: \"FETCH_POSTS\"})\n    new AjaxCall(`/beans?limit=${limit}`).getData().then(postsData=> {\n      dispatch({type: \"ADD_POSTS\", posts: postsData.map(data=> new Post(data))})\n    })\n  }\n}\n\n// Action creators can be impure.\n// var addChat = ({id = \"JKLDSHFJKSDHFJKHSDJKHF\", msg = '', user = 'Anonymous', timeStamp = Date.now()} = {idk:\"XD\"}) => ({ type: \"ADD_CHAT\", payload: { id, msg, user, timeStamp }});\n","import React, { Component } from 'react';\nimport PostList from '../posts/List';\n\nclass ShowUser extends Component {\n\n  constructor(props) {\n    super(props)\n    this.user = props.user\n    this.state = {\n      posts: []\n    }\n  }\n\n  componentDidMount() {\n    this.user.getPosts(posts=> this.setState({posts: posts}))\n  }\n\n  render() {\n    return (\n      <div className=\"Users-show\">\n        <div className=\"Users-show-info-bar\">\n          <img src=\"\" alt=\"\" />\n          <span>{this.user.name}</span>\n        </div>\n        <div className=\"Users-show-select-display-bar\">\n          <h4>My Beans</h4>\n        </div>\n        <PostList posts={this.state.posts} />\n      </div>\n    );\n  }\n}\n\nexport default ShowUser;\n\n","import Post from \"./post\"\nimport AjaxCall from \"../helpers/ajax\"\nimport Paths from \"../helpers/path\"\n\nclass User {\n\n  constructor(data) {\n    this.id = data.id\n    this.name = data.name\n    this.posts = []\n  }\n\n  getPosts(successCallback) {\n    new AjaxCall(Paths.userPosts(this)).getData().then(postsData=> {\n      this.posts = postsData.map(data=> new Post(data))\n      successCallback(this.posts)\n    })\n  }\n\n  static findWithID(id, successCallback) {\n    new AjaxCall(Paths.showUser({id: id})).getData().then(userData=> {\n      successCallback(new this(userData))\n    })\n  }\n}\n\nexport default User;","import AjaxCall from \"../helpers/ajax\"\nimport User from \"../models/user\"\n\nexport function createUser(formData) {\n  return dispatch => {\n    dispatch({type: \"PENDING_USER_FETCH\"})\n    new AjaxCall(\"/users\").postData(formData)\n    .then(user=> {\n      if (user.id) {\n        dispatch(addCurrentUser(user))\n      } else {\n        alert(\"Something went wrong. Please try again.\")\n      }\n    })\n  }\n}\n\nexport function loginUser(formData) {\n  return dispatch=> {\n    dispatch({type: \"PENDING_USER_FETCH\"})\n    new AjaxCall(\"/sessions\").postData(formData)\n    .then(user=> {\n      if (user.id) {\n        dispatch(addCurrentUser(user))\n      } else {\n        alert(user.errors[0])\n      }\n    })\n  }\n}\n\nexport function addCurrentUser(userData) {\n  let user = null\n  if (userData.id) {\n    user = new User(userData)\n  } else {\n    throw new Error(\"Invalid User object added to store\")\n  }\n  return {type: \"ADD_CURRENT_USER\", user: user}\n}","import { useState } from \"react\";\nimport { connect } from \"react-redux\";\nimport { closePopup } from \"../../actions/app\";\nimport { loginUser } from \"../../actions/users\";\n\nfunction LoginForm(props) {\n  const [formData, setFormData] = useState({email: \"\", password: \"\"});\n\n  const handleChange = event=> {\n    setFormData({...formData, [event.target.name]: event.target.value})\n  }\n  const handleSubmit = event=> {\n    event.preventDefault()\n    props.dispatch(loginUser({user: formData}))\n    props.dispatch(closePopup())\n    setFormData({ email: \"\", password: \"\" })\n  }\n\n  return (\n    <fieldset>\n      <form onSubmit={handleSubmit}>\n        <label>Email: </label>\n        <input type=\"text\" name=\"email\" onChange={handleChange} value={formData.email} />\n        <label>Password: </label>\n        <input type=\"password\" name=\"password\" onChange={handleChange} />\n        <input type=\"submit\" />\n      </form>\n    </fieldset>\n  )\n}\n\nexport default connect(null)(LoginForm);","import {useState} from 'react';\nimport { connect } from 'react-redux';\nimport { closePopup } from '../../actions/app';\nimport { createUser } from '../../actions/users';\n\nfunction NewUser(props) {\n\n  const [formData, setFormData] = useState({name:\"\", email:\"\", password: \"\", password_confirmation: \"\"});\n\n  function handleSubmit(event) {\n    event.preventDefault()\n    // Check for missing data & matching password:\n    if (Object.values(formData).every(v => v !== \"\") && formData.password === formData.password_confirmation) {\n      props.dispatch(createUser({user: formData}))\n      props.dispatch(closePopup())\n    }\n  }\n\n  function handleChange(event) {\n    setFormData({...formData, [event.target.name]: event.target.value})\n  }\n  const passwordsMatch = (formData.password === formData.password_confirmation) ? \"Passwords match! You good to go.\" : \"No. Passwords don't match!\"\n\n  return (\n    <fieldset>\n      <form onSubmit={handleSubmit}>\n        <label>Name: </label>\n        <input type=\"text\" name=\"name\" value={formData.name} onChange={handleChange}/>\n        <label>Email: </label>\n        <input type=\"text\" name=\"email\" value={formData.email} onChange={handleChange}/>\n        <label>Password: </label>\n        <input type=\"password\" name=\"password\" onChange={handleChange}/>\n        <label>Confirm Password: </label>\n        <span>{(formData.password) ? passwordsMatch : \"\"}</span>\n        <input type=\"password\" name=\"password_confirmation\" onChange={handleChange}/>\n        <input type=\"submit\" />\n      </form>\n    </fieldset>\n  );\n}\n\nexport default connect(null)(NewUser);\n","import React from 'react';\nimport LoginForm from './LoginForm';\nimport NewUserForm from './NewForm';\n\nfunction Signup() {\n  return (\n    <div className=\"Users-signup-popup\">\n      <h2>Enter Your Login Info</h2>\n      <LoginForm />,\n      <h2>Or Make a New Account</h2>\n      <NewUserForm />\n    </div>\n  );\n}\n\nexport default Signup;\n","import React, { PureComponent } from 'react';\nimport {connect} from 'react-redux'\nimport { displayPopup } from '../actions/app';\nimport ShowUser from '../components/users/Show';\nimport Signup from '../components/users/Signup';\nimport User from '../models/user';\n\nclass UsersContainer extends PureComponent {\n  \n  state = {\n    showUserNode: false\n  }\n  \n  routeActions = {\n    findUserAndSetNode: ()=> {\n      if (!this.state.showUserNode) {\n        User.findWithID(this.props.match.params.id, \n          user=> this.setState({showUserNode: <ShowUser user={user} />}))\n      }\n    },\n\n    showProfileOrDisplaySignup: ()=> {\n      if (this.props.isLoggedIn) {\n        if (!this.state.showUserNode) {this.setState({showUserNode: <ShowUser user={this.props.currentUser} />})}\n\n      } else if (!this.props.currentPopup && !this.props.users.pendingFetch) {\n        this.props.displayPopup([<Signup />])\n      }\n    }\n  }\n\n  checkRouteAndRunAction() {\n\n    if (this.props.match.params.id) {\n      // route is show user(/users/:id):\n      this.routeActions.findUserAndSetNode()\n    } else {\n      // route is /profile\n      this.routeActions.showProfileOrDisplaySignup()\n    }\n  }\n\n  componentDidMount() {\n    this.checkRouteAndRunAction()\n  }\n\n  componentDidUpdate() {\n    this.checkRouteAndRunAction()\n  }\n\n\n  render() {\n    return (\n      <div className=\"Users-container\">\n        {this.state.showUserNode}\n      </div>\n    )\n  }\n\n}\n\nconst mapStateToProps = state=> (\n  {\n    users: state.users,\n    currentUser: state.users.currentUser,\n    isLoggedIn: !!state.users.currentUser,\n    currentPopup: state.app.currentPopup\n  }\n)\nconst mapDispatchToProps = dispatch=> (\n  {\n    displayPopup: content=> dispatch(displayPopup(content))\n  }\n)\nexport default connect(mapStateToProps, mapDispatchToProps)(UsersContainer);\n","import { Route } from \"react-router-dom\";\nimport Posts from \"../../containers/Posts\";\nimport Users from \"../../containers/Users\";\nimport Paths from \"../../helpers/path\";\n\nexport default function AppRoutes(props) {\n  return (\n    <>\n    <Route exact path={Paths.posts} component={Posts}/>\n    <Route exact path={Paths.showPost({ id: ':id' })} component={Posts} />\n    <Route exact path={Paths.profile} component={Users}/>\n    <Route exact path={Paths.showUser({id: ':id'})} component={Users} />\n    </>\n  )\n}","import { NavLink } from \"react-router-dom\";\nimport Paths from \"../../helpers/path\";\n\nexport default function Navbar(props) {\n  return (\n    <div className=\"App-navbar\">\n      <NavLink to=\"/\" className=\"App-logo\"><span>Coffee-Beans</span></NavLink>\n      <NavLink to={Paths.posts}>Bean-Feed</NavLink>\n      <NavLink to={Paths.profile}>Profile</NavLink>\n    </div>\n  )\n}","import React from 'react';\nimport { closePopup } from '../../actions/app';\nimport { connect } from 'react-redux'\n\nfunction Popup(props) {\n\n  const checkClickAndClose = event=> {\n    console.log(\"thisgotclicked!\", event.target);\n    if (event.target.classList.contains(\"App-popup\")) {\n      props.onClose()\n      props.closePopup()\n    }\n  }\n\n  return (\n    <div className=\"App-popup\" onClick={checkClickAndClose}>\n      <div className=\"App-popup-content\">\n        <button \n        className=\"close-button\"\n        onClick={_=> {props.onClose(); props.closePopup()}}>x</button>\n\n        {props.children}\n        \n      </div>\n    </div>\n  );\n}\n\nexport default connect(null, {closePopup: closePopup})(Popup);\n","import { BrowserRouter as Router, } from 'react-router-dom';\nimport '../assets/App.css';\nimport '../assets/Post.css';\nimport '../assets/Comment.css';\nimport '../assets/User.css';\nimport AppRoutes from '../components/app/AppRoutes';\nimport Navbar from '../components/app/Navbar';\nimport React, { Component } from 'react';\nimport {connect} from 'react-redux'\nimport Popup from '../components/app/Popup';\n\nclass App extends Component {\n\n  render() {\n\n    return (\n      <Router>\n        <div className=\"App\">\n          <Navbar />\n          {(this.props.currentPopup) ? <Popup onClose={this.props.currentPopup.onClose}>{this.props.currentPopup.content}</Popup> : null}\n          <div className=\"App-wrapper\">\n            <AppRoutes />\n          </div>\n        </div>\n      </Router>\n    );\n  }\n\n}\n\nexport default connect(state=>({currentPopup: state.app.currentPopup}))(App);\n","export default function appReducer(state = {currentPopup: false}, action) {\n  console.log(`Reducers received ${action.type}`, action)\n  switch (action.type) {\n    case \"DISPLAY_POPUP\":\n      return { ...state, currentPopup: {content: action.payload.content, onClose: action.payload.onClose} }\n    case \"CLOSE_POPUP\":\n      return {...state, currentPopup: false}\n    default:\n      return state\n  }\n}","export default function postsReducer(state = {all:[], status:{}}, action) {\n  switch (action.type) {\n    case \"ADD_POST\":\n      return {...state, all: [action.post, ...state.all]}\n    case \"FETCH_POSTS\":\n      return {...state, status: {...state.status, pendingFetch: true}}\n    case \"ADD_POSTS\":\n      return {...state, all: action.posts, status: {...state.status, pendingFetch: false}}\n\n    default:\n      return state\n  }\n}","export default function usersReducer(state=false, action) {\n  switch (action.type) {\n    case \"PENDING_USER_FETCH\":\n      return {\n        ...state,\n        pendingFetch: true\n      }\n    case \"ADD_CURRENT_USER\":\n      return {\n        ...state,\n        pendingFetch: false,\n        currentUser: action.user\n      }\n    default:\n      return state\n  }\n}","import { combineReducers } from \"redux\";\nimport { connectRouter } from 'connected-react-router';\nimport appReducer from \"./app\";\nimport postsReducer from \"./posts\";\nimport usersReducer from \"./users\";\n\nexport default (history)=> combineReducers({router: connectRouter(history), app: appReducer, users: usersReducer, posts: postsReducer})","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {applyMiddleware, createStore} from 'redux'\nimport {Provider} from 'react-redux'\nimport './assets/index.css';\nimport App from './containers/App';\nimport rootReducer from './reducers'\nimport thunk from 'redux-thunk';\nimport { routerMiddleware, ConnectedRouter } from 'connected-react-router';\nimport { createBrowserHistory } from 'history';\n// window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\n\nexport const history = createBrowserHistory();\n\nexport const store = createStore(rootReducer(history), applyMiddleware(thunk, routerMiddleware(history)))\n\nReactDOM.render(\n  <Provider store={store}>\n  <React.StrictMode>\n    <ConnectedRouter history={history}>\n      <App />\n    </ConnectedRouter>\n  </React.StrictMode>\n  </Provider>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n// reportWebVitals();\n"],"sourceRoot":""}